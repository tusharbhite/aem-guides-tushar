import groovy.json.JsonSlurper
import groovy.json.JsonOutput
import org.apache.http.client.methods.HttpPost
import org.apache.http.entity.StringEntity
import org.apache.http.impl.client.CloseableHttpClient
import org.apache.http.impl.client.HttpClients

def aemUrl = "http://localhost:4502" // Use publish instance URL with port 4502
def user = "admin" // Replace with your AEM username
def password = "admin" // Replace with your AEM password
def fragmentPath = "aemquickstart/test/as" // Path to create the fragment
def fragmentNodeType = "myFragmentNodeType" // Fragment node type

// Define the celebrities JSON text
def jsonString = '''[{"first_name":"Amitabh","last_name":"Bachchan","date_of_birth":"11 October 1942","age":81,"best_dialog":"Rishte mein toh hum tumhare baap lagte hain, naam hai Shahenshah","about_text":"Amitabh Bachchan is one of the most legendary and influential actors in the history of Indian cinema. He is known for his deep voice, powerful screen presence, and versatile roles. He has appeared in over 200 films, spanning across five decades. He started his career in 1969 with Saat Hindustani, but his first major success was Zanjeer in 1973, which established him as the 'angry young man' of Bollywood. He dominated the 1970s and 1980s with films like Deewaar, Sholay, Don, Trishul, Muqaddar Ka Sikandar, and Coolie. He also experimented with different genres like comedy, romance, drama, and thriller. He suffered a near-fatal injury while shooting for Coolie in 1982, which led to a nationwide prayer for his recovery. He briefly retired from films in 1988 and entered politics, but returned to acting in 1997 with Mrityudaata. He reinvented his career in the 2000s with films like Mohabbatein, Kabhi Khushi Kabhie Gham, Baghban, Black, Sarkar, and Paa. He also ventured into television, hosting the popular game show Kaun Banega Crorepati since 2000. He has won numerous awards, including four National Film Awards, 15 Filmfare Awards, and a Padma Shri, a Padma Bhushan, and a Padma Vibhushan. He is also one of the most respected and admired actors in the world, receiving honorary doctorates from several universities and awards from foreign governments. He is married to actress Jaya Bachchan and has two children, Abhishek and Shweta.","permanent_address":"Jalsa, Juhu, Mumbai","five_qualities":["Legendary","Influential","Versatile","Respected","Charismatic"],"marital_status":"Married","top_2_awards":["Dadasaheb Phalke Award (2019)","Filmfare Lifetime Achievement Award (1991)"],"top_5_movies":["Sholay (1975)","Deewaar (1975)","Black (2005)","Paa (2009)","Anand (1971)"],"top_5_songs":["Rang Barse (Silsila)","Yeh Dosti (Sholay)","Khaike Paan Banaraswala (Don)","Mere Angne Mein (Laawaris)","Jumma Chumma De De (Hum)"],"one_controversy":"He was accused of involvement in the Bofors scandal in 1987, which alleged that he received kickbacks from a Swedish arms manufacturer for brokering a deal with the Indian government. He was later cleared of all charges by the Supreme Court in 1999."},{"first_name":"Kareena","last_name":"Kapoor Khan","date_of_birth":"21 September 1980","age":43,"best_dialog":"Main apni favourite hoon","about_text":"Kareena Kapoor Khan is one of the most popular and successful actresses in Bollywood. She is known for her glamour, style, and versatility. She belongs to the famous Kapoor family, which has been a part of the Hindi film industry for generations. She is the daughter of actors Randhir Kapoor and Babita, and the younger sister of actress Karisma Kapoor. She made her film debut in 2000 with Refugee, which won her the Filmfare Award for Best Female Debut. She rose to fame with films like Mujhe Kucch Kehna Hai, Kabhi Khushi Kabhie Gham, Chameli, and Dev. She also established herself as a leading actress with films like Jab We Met, Omkara, 3 Idiots, Golmaal 3, and Bodyguard. She has also experimented with different roles in films like Talaash, Heroine, Udta Punjab, and Veere Di Wedding. She has won six Filmfare Awards, including a Critics Award for Best Actress and a Special Award. She is also one of the highest-paid actresses in India, according to Forbes. She is married to actor Saif Ali Khan and has two sons, Taimur and Jehangir.","permanent_address":"Fortune Heights, Bandra, Mumbai","five_qualities":["Glamorous","Stylish","Versatile","Confident","Trendsetter"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Actress for Jab We Met (2008)","Filmfare Critics Award for Best Actress for Dev (2005)"],"top_5_movies":["Jab We Met (2007)","3 Idiots (2009)","Omkara (2006)","Chameli (2004)","Bajrangi Bhaijaan (2015)"],"top_5_songs":["Bole Chudiyan (Kabhi Khushi Kabhie Gham)","Yeh Ishq Hai (Jab We Met)","Zoobi Doobi (3 Idiots)","Fevicol Se (Dabangg 2)","Mauja Hi Mauja (Jab We Met)"],"one_controversy":"She faced a lot of backlash and criticism for naming her first son Taimur, which was similar to the name of a 14th-century Turco-Mongol conqueror who invaded India. She later clarified that she named him after an Iranian prince and not the invader."},{"first_name":"Amir","last_name":"Khan","date_of_birth":"14 March 1985","age":38,"best_dialog":"I'm a fighter, not a quitter","about_text":"Amir Khan is a British professional boxer and a former unified light-welterweight world champion. He is known for his speed, agility, and punching power. He started his career as an amateur boxer at the age of 11 and won a silver medal at the 2004 Olympics in Athens, becoming Britain's youngest Olympic boxing medalist. He turned professional in 2005 and won his first world title in 2009, defeating Andreas Kotelnik for the WBA light-welterweight belt. He later unified the WBA and IBF titles in 2011, beating Zab Judah by knockout. He has also fought some of the best boxers in the world, such as Marcos Maidana, Lamont Peterson, Danny Garcia, Canelo Alvarez, and Terence Crawford. He has won 34 fights out of 40, with 21 knockouts. He is also a philanthropist, humanitarian, and a promoter of interfaith dialogue. He is the founder of the Amir Khan Foundation, which works for the welfare of the underprivileged, especially in Pakistan and the UK. He is married to model and influencer Faryal Makhdoom and has three children, Lamaisah, Alayna, and Muhammad.","permanent_address":"Bolton, Greater Manchester, England","five_qualities":["Speedy","Agile","Powerful","Courageous","Generous"],"marital_status":"Married","top_2_awards":["WBA and IBF light-welterweight champion (2011)","Olympic silver medalist (2004)"],"top_5_movies":["Team Khan (2018)","Bollywood Star (2012)","Amir Khan: A Work in Progress (2010)","Amir Khan: Sports Life Stories (2013)","Meet the Khans: Big in Bolton (2021)"],"top_5_songs":["Knockout (by Lil Wayne)","Eye of the Tiger (by Survivor)","Hall of Fame (by The Script)","Lose Yourself (by Eminem)","Can't Hold Us (by Macklemore)"],"one_controversy":"He was involved in a sex tape scandal in 2017, which allegedly showed him engaging in a Skype call with a model while he was married to Faryal. He later apologized to his wife and fans and claimed that the video was leaked by someone who hacked his phone."},{"first_name":"Akshay","last_name":"Kumar","date_of_birth":"9 September 1967","age":56,"best_dialog":"Don't angry me","about_text":"Akshay Kumar is one of the most popular and versatile actors in Bollywood. He is known for his action, comedy, and social drama films. He has also appeared in some television shows and web series. He started his career as a model and martial arts instructor in Mumbai, where he was noticed by a film producer who offered him his first film, Saugandh, in 1991. He got his breakthrough in 1992 with Khiladi, the first of his many films with the same title. He established himself as an action star with films like Mohra, Main Khiladi Tu Anari, Sabse Bada Khiladi, and Khiladiyon Ka Khiladi. He also proved his comic timing with films like Hera Pheri, Mujhse Shaadi Karogi, Garam Masala, and Bhool Bhulaiyaa. He ventured into social drama films with films like Airlift, Toilet: Ek Prem Katha, Pad Man, and Kesari. He has also experimented with different genres like horror, thriller, romance, and biopic. He has won several awards, including a National Film Award, six Filmfare Awards, and a Padma Shri. He is also one of the highest-paid actors in the world, according to Forbes. He is married to actress Twinkle Khanna and has two children, Aarav and Nitara.","permanent_address":"Prime Beach, Juhu, Mumbai","five_qualities":["Hardworking","Versatile","Patriotic","Charitable","Fitness-conscious"],"marital_status":"Married","top_2_awards":["National Film Award for Best Actor for Rustom (2017)","Padma Shri (2009)"],"top_5_movies":["Hera Pheri (2000)","Airlift (2016)","Baby (2015)","Pad Man (2018)","Special 26 (2013)"],"top_5_songs":["Hookah Bar (Khiladi 786)","Teri Meri Kahaani (Gabbar Is Back)","Tujh Mein Rab Dikhta Hai (Rab Ne Bana Di Jodi)","Filhall (Filhall)","Dil Cheez Tujhe Dedi (Airlift)"],"one_controversy":"He faced a lot of criticism and backlash for holding a Canadian citizenship and not voting in the Indian elections. He later clarified that he had applied for a Canadian passport as a backup plan when his career was not going well, but he never intended to leave India. He also said that he has never hidden or denied his Canadian citizenship and that he works and pays taxes in India."},{"first_name":"Ajay","last_name":"Devgan","date_of_birth":"2 April 1969","age":54,"best_dialog":"Na koi marta hai, na koi marta hai. Zindagi aur maut uparwale ke haath mein hai","about_text":"Ajay Devgan is one of the most acclaimed and versatile actors in Bollywood. He is known for his intense, realistic, and action-oriented roles. He is also a director, producer, and screenwriter. He started his career in 1991 with Phool Aur Kaante, which was a blockbuster and won him the Filmfare Award for Best Male Debut. He rose to fame with films like Jigar, Dilwale, Vijaypath, and Diljale. He established himself as an action star with films like Singham, Singham Returns, and Shivaay. He also proved his acting skills with films like Zakhm, Hum Dil De Chuke Sanam, The Legend of Bhagat Singh, Gangajal, Omkara, and Drishyam. He has also experimented with different genres like comedy, romance, thriller, and historical. He has won several awards, including two National Film Awards, four Filmfare Awards, and a Padma Shri. He is also one of the most successful and influential actors in India, according to Forbes. He is married to actress Kajol and has two children, Nysa and Yug.","permanent_address":"Shivshakti, Juhu, Mumbai","five_qualities":["Intense","Realistic","Action-oriented","Acclaimed","Versatile"],"marital_status":"Married","top_2_awards":["National Film Award for Best Actor for The Legend of Bhagat Singh and Company (2003)","Filmfare Award for Best Actor for Zakhm (1999)"],"top_5_movies":["The Legend of Bhagat Singh (2002)","Zakhm (1998)","Singham (2011)","Drishyam (2015)","Golmaal: Fun Unlimited (2006)"],"top_5_songs":["Tum Jo Aaye (Once Upon a Time in Mumbaai)","Maine Pyaar Tumhi Se Kiya Hai (Phool Aur Kaante)","Raah Mein Unse Mulaqat Ho Gayi (Vijaypath)","Mere Rashke Qamar (Baadshaho)","Neend Churai Meri (Ishq)"],"one_controversy":"He was involved in a feud with fellow actor Shah Rukh Khan in 2012, when he accused him of manipulating the box office figures of his film Jab Tak Hai Jaan, which clashed with his film Son of Sardaar. He later withdrew his complaint and patched up with Shah Rukh."},{"first_name":"Sunil","last_name":"Shetty","date_of_birth":"11 August 1961","age":62,"best_dialog":"Main tumhe bhool jaon yeh ho nahi sakta, aur tum mujhe bhool jao yeh main hone nahi doonga","about_text":"Sunil Shetty is one of the most popular and respected actors in Bollywood. He is known for his action, comedy, and patriotic films. He is also a producer, entrepreneur, and philanthropist. He started his career in 1992 with Balwaan, which was a moderate success. He gained popularity with films like Waqt Hamara Hai, Dilwale, Mohra, and Border. He established himself as an action hero with films like Bhai, Dhadkan, Hera Pheri, and Main Hoon Na. He also proved his comic timing with films like Awara Paagal Deewana, Phir Hera Pheri, De Dana Dan, and Housefull. He has also experimented with different roles in films like Hu Tu Tu, Red Alert: The War Within, and Pehchaan: The Face of Truth. He has won several awards, including a Filmfare Award, a Stardust Award, and a Rajiv Gandhi Award. He is also one of the most successful and influential actors in India, according to Forbes. He is married to Mana Shetty, a fashion designer and social worker, and has two children, Athiya and Ahan.","permanent_address":"18-B, Prithvi Apartments, Altamount Road, Mumbai","five_qualities":["Popular","Respected","Action","Comedy","Patriotic"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Villain for Dhadkan (2001)","Stardust Award for Best Actor in a Negative Role for Main Hoon Na (2005)"],"top_5_movies":["Border (1997)","Hera Pheri (2000)","Dhadkan (2000)","Main Hoon Na (2004)","Red Alert: The War Within (2010)"],"top_5_songs":["Shehar Ki Ladki (Rakshak)","Tum Dil Ki Dhadkan Mein (Dhadkan)","Chura Ke Dil Mera (Main Khiladi Tu Anari)","Sandese Aate Hain (Border)","Gori Gori (Main Hoon Na)"],"one_controversy":"He was arrested in 2013 for his alleged involvement in a cheating case, where he and his wife were accused of duping a film producer of Rs. 1.5 crore. He was later released on bail and denied any wrongdoing."},{"first_name":"Kajol","last_name":"Devgan","date_of_birth":"5 August 1974","age":49,"best_dialog":"Kuch kuch hota hai Rahul, tum nahi samjhoge","about_text":"Kajol Devgan is one of the most talented and popular actresses in Bollywood. She is known for her expressive eyes, natural acting, and strong screen presence. She belongs to the famous Mukherjee-Samarth family, which has been a part of the Hindi film industry for generations. She is the daughter of actress Tanuja and filmmaker Shomu Mukherjee, and the niece of actress Nutan. She made her film debut in 1992 with Bekhudi, which was a flop, but she got noticed for her performance. She rose to fame with films like Baazigar, Dilwale Dulhania Le Jayenge, Gupt, and Kuch Kuch Hota Hai. She established herself as a leading actress with films like Kabhi Khushi Kabhie Gham, Fanaa, My Name Is Khan, and Tanhaji. She has also experimented with different roles in films like Dushman, Helicopter Eela, and Tribhanga. She has won six Filmfare Awards, including four Best Actress awards and one Critics Award for Best Actress. She is also one of the highest-paid actresses in India, according to Forbes. She is married to actor Ajay Devgan and has two children, Nysa and Yug.","permanent_address":"Shivshakti, Juhu, Mumbai","five_qualities":["Expressive","Natural","Strong","Versatile","Lovable"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Actress for Dilwale Dulhania Le Jayenge (1996)","Filmfare Critics Award for Best Actress for Dushman (1999)"],"top_5_movies":["Dilwale Dulhania Le Jayenge (1995)","Kuch Kuch Hota Hai (1998)","Fanaa (2006)","My Name Is Khan (2010)","Tanhaji (2020)"],"top_5_songs":["Tujhe Dekha To (Dilwale Dulhania Le Jayenge)","Suraj Hua Maddham (Kabhi Khushi Kabhie Gham)","Mere Khwabon Mein Jo Aaye (Dilwale Dulhania Le Jayenge)","Chand Sifarish (Fanaa)","Gerua (Dilwale)"],"one_controversy":"She was involved in a controversy in 2015, when she posted a tweet supporting the ban on beef in Maharashtra, which sparked a lot of criticism and backlash from her fans and the public. She later deleted the tweet and clarified that it was a miscommunication and that she was not endorsing any political party or ideology."},{"first_name":"Shah Rukh","last_name":"Khan","date_of_birth":"2 November 1965","age":58,"best_dialog":"Don ko pakadna mushkil hi nahi, namumkin hai","about_text":"Shah Rukh Khan is one of the most celebrated and respected actors in Bollywood. He is known for his romantic, drama, and comedy films. He is also a producer, entrepreneur, and global icon. He started his career as a theatre actor and later moved to television, where he appeared in shows like Fauji, Circus, and Doosra Keval. He made his film debut in 1992 with Deewana, which was a hit. He gained popularity with films like Baazigar, Darr, Dilwale Dulhania Le Jayenge, Dil To Pagal Hai, and Kuch Kuch Hota Hai. He earned the title of 'King of Romance' for his portrayal of romantic heroes. He also experimented with different roles in films like Swades, Chak De! India, My Name Is Khan, and Fan. He has won numerous awards, including 15 Filmfare Awards, eight IIFA Awards, and a Padma Shri. He is also one of the richest and most influential actors in the world, according to Forbes. He is the co-owner of the production company Red Chillies Entertainment, the cricket team Kolkata Knight Riders, and the film studio Dreamz Unlimited. He is married to interior designer Gauri Khan and has three children, Aryan, Suhana, and AbRam.","permanent_address":"Mannat, Bandra, Mumbai","five_qualities":["Passionate","Intelligent","Witty","Charming","Dedicated"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Actor for Dilwale Dulhania Le Jayenge (1996)","Filmfare Award for Best Actor for My Name Is Khan (2011)"],"top_5_movies":["Dilwale Dulhania Le Jayenge (1995)","Chak De! India (2007)","Swades (2004)","My Name Is Khan (2010)","Om Shanti Om (2007)"],"top_5_songs":["Tujhe Dekha To (Dilwale Dulhania Le Jayenge)","Tum Hi Ho (Aashiqui 2)","Chaiyya Chaiyya (Dil Se)","Tumse Milke Dil Ka (Main Hoon Na)","Suraj Hua Maddham (Kabhi Khushi Kabhie Gham)"],"one_controversy":"He was involved in a controversy in 2012, when he was detained at the New York airport for over two hours by the immigration officials, which sparked a lot of outrage and criticism from his fans and the Indian government. He later said that he felt angry and humiliated by the incident and that it was a case of racial profiling."},{"first_name":"Deepika","last_name":"Padukone","date_of_birth":"5 January 1986","age":38,"best_dialog":"Main apni favourite hoon","about_text":"Deepika Padukone is one of the most talented and popular actresses in Bollywood. She is known for her versatile and powerful performances. She has also appeared in some Hollywood films. She started her career as a model and later made her film debut in 2006 with Aishwarya, a Kannada film. She rose to fame with films like Om Shanti Om, Love Aaj Kal, Cocktail, and Yeh Jawaani Hai Deewani. She established herself as a leading actress with films like Chennai Express, Goliyon Ki Raasleela Ram-Leela, Bajirao Mastani, and Padmaavat. She has also experimented with different roles in films like Piku, Tamasha, Finding Fanny, and Chhapaak. She has won three Filmfare Awards, including two Best Actress awards and one Critics Award for Best Actress. She is also one of the highest-paid actresses in the world, according to Forbes. She is married to actor Ranveer Singh and has launched her own clothing line, perfume, and foundation.","permanent_address":"Beau Monde Towers, Prabhadevi, Mumbai","five_qualities":["Gorgeous","Talented","Versatile","Powerful","Ambitious"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Actress for Goliyon Ki Raasleela Ram-Leela (2014)","Filmfare Critics Award for Best Actress for Piku (2016)"],"top_5_movies":["Piku (2015)","Goliyon Ki Raasleela Ram-Leela (2013)","Yeh Jawaani Hai Deewani (2013)","Chennai Express (2013)","Om Shanti Om (2007)"],"top_5_songs":["Deewani Mastani (Bajirao Mastani)","Balam Pichkari (Yeh Jawaani Hai Deewani)","Nagada Sang Dhol (Goliyon Ki Raasleela Ram-Leela)","Titli (Chennai Express)","Ajab Si (Om Shanti Om)"],"one_controversy":"She faced a lot of threats and protests for her role in Padmaavat, which was accused of distorting history and hurting the sentiments of the Rajput community. She even received a death threat from a fringe group, which announced a bounty of Rs. 10 crore for beheading her. The film was banned in several states and its release was delayed by the censor board. However, the film was eventually released and became a huge success, earning her praise and admiration."},{"first_name":"Ranbir","last_name":"Kapoor","date_of_birth":"28 September 1982","age":41,"best_dialog":"Main udna chahta hoon, daudna chahta hoon, girna bhi chahta hoon, bas rukna nahi chahta","about_text":"Ranbir Kapoor is one of the most acclaimed and versatile actors in Bollywood. He is known for his romantic, drama, and comedy films. He belongs to the famous Kapoor family, which has been a part of the Hindi film industry for generations. He is the son of actors Rishi Kapoor and Neetu Singh, and the grandson of actor-filmmaker Raj Kapoor. He made his film debut in 2007 with Saawariya, which was a flop, but he got noticed for his performance. He rose to fame with films like Bachna Ae Haseeno, Wake Up Sid, Ajab Prem Ki Ghazab Kahani, and Rocket Singh: Salesman of the Year. He established himself as a leading actor with films like Rockstar, Barfi!, Yeh Jawaani Hai Deewani, Sanju, and Ae Dil Hai Mushkil. He has also experimented with different roles in films like Raajneeti, Tamasha, Jagga Jasoos, and Bombay Velvet. He has won six Filmfare Awards, including four Best Actor awards and one Critics Award for Best Actor. He is also one of the most successful and influential actors in India, according to Forbes. He is unmarried and has been linked with several actresses, such as Deepika Padukone, Katrina Kaif, and Alia Bhatt.","permanent_address":"Pali Hill, Bandra, Mumbai","five_qualities":["Acclaimed","Versatile","Romantic","Drama","Comedy"],"marital_status":"Unmarried","top_2_awards":["Filmfare Award for Best Actor for Rockstar (2012)","Filmfare Critics Award for Best Actor for Rajneeti (2011)"],"top_5_movies":["Rockstar (2011)","Barfi! (2012)","Sanju (2018)","Yeh Jawaani Hai Deewani (2013)","Wake Up Sid (2009)"],"top_5_songs":["Tum Ho (Rockstar)","Ala Barfi (Barfi!)","Kabira (Yeh Jawaani Hai Deewani)","Bulleya (Ae Dil Hai Mushkil)","Iktara (Wake Up Sid)"],"one_controversy":"He was involved in a controversy in 2014, when he allegedly slapped a reporter for asking him about his relationship with Katrina Kaif. The incident took place at a party, where Ranbir and Katrina were spotted together. Ranbir reportedly lost his cool and pushed the reporter, who claimed that he also slapped him. However, Ranbir denied the allegations and said that he only asked the reporter to back off."},{"first_name":"Allu","last_name":"Arjun","date_of_birth":"8 April 1983","age":40,"best_dialog":"Jhukega nahi saala, fire hai main","about_text":"Allu Arjun is one of the most popular and successful actors in the Telugu film industry. He is known for his action, dance, and style. He is also a producer and a philanthropist. He belongs to the famous Allu-Konidela family, which has been a part of the Telugu film industry for generations. He is the son of producer Allu Aravind and the grandson of comedian Allu Ramalingaiah. He made his film debut as a child artist in 1985 with Vijetha, and his first lead role was in 2003 with Gangotri. He rose to fame with films like Arya, Bunny, Desamuduru, and Parugu. He established himself as an action star with films like Vedam, Julayi, Race Gurram, Sarrainodu, and Duvvada Jagannadham. He has also experimented with different roles in films like Arya 2, Son of Satyamurthy, Naa Peru Surya, Naa Illu India, and Ala Vaikunthapurramuloo. He has won five Filmfare Awards South, four Nandi Awards, and two SIIMA Awards. He is also one of the highest-paid and most influential actors in India, according to Forbes. He is married to Sneha Reddy and has two children, Allu Ayaan and Allu Arha.","permanent_address":"Jubilee Hills, Hyderabad","five_qualities":["Popular","Successful","Action","Dance","Style"],"marital_status":"Married","top_2_awards":["Filmfare Award for Best Actor – Telugu for Vedam (2011)","Nandi Special Jury Award for Arya (2005)"],"top_5_movies":["Arya (2004)","Vedam (2010)","Race Gurram (2014)","Ala Vaikunthapurramuloo (2020)","Pushpa: The Rise (2021)"],"top_5_songs":["Butta Bomma (Ala Vaikunthapurramuloo)","Seeti Maar (Duvvada Jagannadham)","Ringa Ringa (Arya 2)","Top Lesi Poddi (Iddarammayilatho)","Saami Saami (Pushpa: The Rise)"],"one_controversy":"He was involved in a controversy in 2017, when he allegedly made some derogatory remarks about the Telangana dialect and culture in a speech at the audio launch of his film Duvvada Jagannadham. He faced a lot of criticism and protests from the Telangana activists and the public, who demanded an apology from him. He later clarified that he did not intend to hurt anyone's sentiments and that he respects the Telangana culture and language."},{"first_name":"Rashmika","last_name":"Mandanna","date_of_birth":"5 April 1996","age":27,"best_dialog":"I'm not a rebel without a cause, sir","about_text":"Rashmika Mandanna is one of the most beautiful and talented actresses in the South Indian film industry. She is known for her glamour, charm, and versatility. She has appeared in Kannada, Telugu, Tamil, and Hindi films. She started her career as a model and later made her film debut in 2016 with Kirik Party, which was a blockbuster and won her the SIIMA Award for Best Debut Actress. She rose to fame with films like Anjani Putra, Chamak, Chalo, and Geetha Govindam. She established herself as a leading actress with films like Devadas, Dear Comrade, Sarileru Neekevvaru, and Bheeshma. She has also experimented with different roles in films like Yajamana, Sulthan, Pushpa: The Rise, and Mission Majnu. She has won several awards, including two Filmfare Awards South, two SIIMA Awards, and a Zee Cine Award. She is also one of the highest-paid actresses in India, according to Forbes. She is unmarried and has been linked with actors like Rakshit Shetty and Vijay Deverakonda.","permanent_address":"Virajpet, Kodagu, Karnataka","five_qualities":["Beautiful","Talented","Glamour","Charm","Versatile"],"marital_status":"Unmarried","top_2_awards":["Filmfare Award for Best Actress – Kannada for Kirik Party (2017)","Filmfare Award for Best Actress – Telugu for Geetha Govindam (2019)"],"top_5_movies":["Kirik Party (2016)","Geetha Govindam (2018)","Dear Comrade (2019)","Sarileru Neekevvaru (2020)","Pushpa: The Rise (2021)"],"top_5_songs":["Inkem Inkem Inkem Kaavaale (Geetha Govindam)","He's Soo Cute (Sarileru Neekevvaru)","Kannaana Kanney (Viswasam)","Pogaru Karabuu (Pogaru)","Jaago (Saina)"],"one_controversy":"She was involved in a controversy in 2018, when she allegedly made some disrespectful comments about the Kannada language and culture in an interview. She faced a lot of backlash and boycott from the Kannada fans and the public, who accused her of being ungrateful and arrogant. She later apologized and said that she loves Kannada and that her words were misinterpreted and taken out of context."},{"first_name":"Mahesh","last_name":"Babu","date_of_birth":"9 August 1975","age":48,"best_dialog":"Okkadu ante bayapadataniki kadu, bayapetti vellataniki","about_text":"Mahesh Babu is one of the most popular and successful actors in the Telugu film industry. He is known for his action, romance, and social message films. He is also a producer and a philanthropist. He belongs to the famous Ghattamaneni family, which has been a part of the Telugu film industry for generations. He is the son of actor Krishna and the younger brother of actor Ramesh Babu. He made his film debut as a child artist in 1979 with Needa, and his first lead role was in 1999 with Raja Kumarudu. He rose to fame with films like Murari, Okkadu, Athadu, and Pokiri. He established himself as an action star with films like Dookudu, Businessman, Srimanthudu, and Bharat Ane Nenu. He has also experimented with different roles in films like Nijam, Khaleja, Seethamma Vakitlo Sirimalle Chettu, and Maharshi. He has won eight Nandi Awards, five Filmfare Awards South, three CineMAA Awards, and three SIIMA Awards. He is also one of the highest-paid and most influential actors in India, according to Forbes. He is married to actress Namrata Shirodkar and has two children, Gautham and Sitara.","permanent_address":"Jubilee Hills, Hyderabad","five_qualities":["Popular","Successful","Action","Romance","Social"],"marital_status":"Married","top_2_awards":["Nandi Award for Best Actor for Okkadu (2003)","Filmfare Award for Best Actor – Telugu for Pokiri (2006)"],"top_5_movies":["Pokiri (2006)","Okkadu (2003)","Athadu (2005)","Srimanthudu (2015)","Bharat Ane Nenu (2018)"],"top_5_songs":["Dang Dang (Businessman)","Harilo Ranga Hari (Murari)","Pillaa Raa (Athadu)","Jigar Kaleja (Khaleja)","Jatha Kalise (Srimanthudu)"],"one_controversy":"He was involved in a controversy in 2004, when he was accused of evading income tax by undervaluing his remuneration for the film Nijam. He was raided by the Income Tax Department and had to pay a penalty of Rs. 1.5 crore. He later said that he was not aware of the tax laws and that he had paid the penalty as a law-abiding citizen."},{"first_name":"Anushka","last_name":"Shetty","date_of_birth":"7 November 1981","age":42,"best_dialog":"Devasena antey chuttu tirige antha nenu, Devasena antey chuttu tiragani antha kuda nenu","about_text":"Anushka Shetty is one of the most beautiful and talented actresses in the South Indian film industry. She is known for her glamour, charm, and versatility. She has appeared in Telugu, Tamil, Kannada, and Malayalam films. She started her career as a yoga instructor and later made her film debut in 2005 with Super, a Telugu film. She rose to fame with films like Vikramarkudu, Arundhati, Vedam, and Singam. She established herself as a leading actress with films like Baahubali: The Beginning, Baahubali: The Conclusion, Rudhramadevi, and Bhaagamathie. She has also experimented with different roles in films like Size Zero, Nishabdham, Oopiri, and Inji Iduppazhagi. She has won several awards, including three Filmfare Awards South, two Nandi Awards, and a CineMAA Award. She is also one of the highest-paid actresses in India, according to Forbes. She is unmarried and has been linked with actors like Prabhas, Gopichand, and Arya.","permanent_address":"Jubilee Hills, Hyderabad","five_qualities":["Beautiful","Talented","Glamour","Charm","Versatile"],"marital_status":"Unmarried","top_2_awards":["Filmfare Award for Best Actress – Telugu for Arundhati (2009)","Nandi Award for Best Actress for Vedam (2010)"],"top_5_movies":["Baahubali: The Beginning (2015)","Baahubali: The Conclusion (2017)","Arundhati (2009)","Rudhramadevi (2015)","Bhaagamathie (2018)"],"top_5_songs":["Pacha Bottasi (Baahubali: The Beginning)","Dandaalayyaa (Baahubali: The Conclusion)","Bommali (Billa)","Mandara Mandara (Bhaagamathie)","Mallelu (Vedam)"],"one_controversy":"She was involved in a controversy in 2017, when she allegedly underwent liposuction surgery to reduce her weight for the film Size Zero, which was about body positivity and acceptance. She faced a lot of criticism and trolling from the fans and the media, who accused her of being hypocritical and unnatural. She later denied the allegations and said that she had gained and lost weight naturally for the film."},{"first_name":"Prabhas","last_name":"Raju","date_of_birth":"23 October 1979","age":44,"best_dialog":"Amarendra Baahubali ane nenu","about_text":"Prabhas Raju is one of the most popular and successful actors in the Telugu film industry. He is known for his action, romance, and epic films. He is also the first South Indian actor to have a wax statue at Madame Tussauds. He started his career in 2002 with Eeswar, which was a flop, but he got noticed for his performance. He rose to fame with films like Varsham, Chatrapathi, Darling, and Mr. Perfect. He established himself as an action star with films like Billa, Rebel, Mirchi, and Saaho. He also proved his acting skills with films like Munna, Ek Niranjan, and Pournami. He has also experimented with different roles in films like Darling, Mr. Perfect, and Radhe Shyam. He has won several awards, including three Nandi Awards, two Filmfare Awards South, and two SIIMA Awards. He is also one of the highest-paid and most influential actors in India, according to Forbes. He is unmarried and has been linked with actresses like Anushka Shetty, Ileana D'Cruz, and Pooja Hegde.","permanent_address":"Jubilee Hills, Hyderabad","five_qualities":["Popular","Successful","Action","Romance","Epic"],"marital_status":"Unmarried","top_2_awards":["Nandi Award for Best Actor for Mirchi (2013)","Filmfare Award for Best Actor – Telugu for Baahubali: The Beginning (2016)"],"top_5_movies":["Baahubali: The Beginning (2015)","Baahubali: The Conclusion (2017)","Mirchi (2013)","Saaho (2019)","Chatrapathi (2005)"],"top_5_songs":["Saahore Baahubali (Baahubali: The Conclusion)","Darlingey (Mirchi)","Psycho Saiyaan (Saaho)","Manohari (Baahubali: The Beginning)","Idhedho Bagundhe (Mirchi)"],"one_controversy":"He was involved in a controversy in 2017, when he allegedly refused to attend the audio launch of his film Baahubali: The Conclusion in Chennai, citing security reasons. He faced a lot of criticism and boycott from the Tamil fans and the media, who accused him of being unprofessional and disrespectful. He later apologized and said that he had some personal issues and that he loves Tamil Nadu and its people."},{"first_name":"Krithi","last_name":"Shetty","date_of_birth":"21 September 2003","age":20,"best_dialog":"I'm not a rebel without a cause, sir","about_text":"Krithi Shetty is one of the most beautiful and talented actresses in the South Indian film industry. She is known for her glamour, charm, and versatility. She has appeared in Telugu, Tamil, Malayalam, and Hindi films. She started her career as a model and later made her film debut in 2021 with Uppena, which was a blockbuster and won her the SIIMA Award for Best Debut Actress. She rose to fame with films like Shyam Singha Roy, The Warriorr, and Macherla Niyojakavargam. She established herself as a leading actress with films like Aa Ammayi Gurinchi Meeku Cheppali, Custody, and Ajayante Randam Moshanam. She has also experimented with different roles in films like Vaa Vaathiyaare, Love Insurance Corporation, and Genie. She has won several awards, including two Filmfare Awards South, two SIIMA Awards, and a Zee Cine Award. She is also one of the highest-paid actresses in India, according to Forbes. She is unmarried and has been linked with actors like Panja Vaisshnav Tej, Nani, and Naga Chaitanya.","permanent_address":"Virajpet, Kodagu, Karnataka","five_qualities":["Beautiful","Talented","Glamour","Charm","Versatile"],"marital_status":"Unmarried","top_2_awards":["Filmfare Award for Best Actress – Telugu for Uppena (2021)","SIIMA Award for Best Female Debut – Telugu for Uppena (2021)"],"top_5_movies":["Uppena (2021)","Shyam Singha Roy (2021)","The Warriorr (2022)","Aa Ammayi Gurinchi Meeku Cheppali (2022)","Custody (2023)"],"top_5_songs":["Nee Kannu Neeli Samudram (Uppena)","Inkem Inkem Inkem Kaavaale (Geetha Govindam)","Bommali (Billa)","Mandara Mandara (Bhaagamathie)","Jaago (Saina)"],"one_controversy":"She was involved in a controversy in 2018, when she allegedly made some disrespectful comments about the Kannada language and culture in an interview. She faced a lot of backlash and boycott from the Kannada fans and the public, who accused her of being ungrateful and arrogant. She later apologized and said that she loves Kannada and that her words were misinterpreted and taken out of context."}]'''

// Parse the JSON string
def jsonArray = new JsonSlurper().parseText(jsonString)
def original_postman_json_string='''{"properties":{"cq:model":"/conf/tushar/settings/dam/cfm/models/people-profile","created":1708799700877,"description":"this is description","title":"Amitabh-Bachchan","contentFragment":true,"createdBy":"admin","elementsOrder":["first_name","last_name","profilePicture","date_of_birth","age","best_dialog","about_text","permanent_address","five_qualities","top_5_movies","awards","top_5_songs","one_controversy","marital_status"],"elements":{"top_5_songs":{"translatable":false,":type":"text/plain","dataType":"string","title":"Top 5 Songs","multiValue":true,"value":["Rang Barse (Silsila)","Yeh Dosti (Sholay)","Khaike Paan Banaraswala (Don)","Mere Angne Mein (Laawaris)","Jumma Chumma De De (Hum)"]},"one_controversy":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Contravorsy","multiValue":false,"value":"He was accused of involvement in the Bofors scandal in 1987, which alleged that he received kickbacks from a Swedish arms manufacturer for brokering a deal with the Indian government. He was later cleared of all charges by the Supreme Court in 1999."},"date_of_birth":{"variationsOrder":[],"translatable":false,":type":"calendar","dataType":"calendar","title":"Date of Birth","multiValue":false,"value":1707892200000},"top_5_movies":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Top 5 Movies","multiValue":true,"value":["Sholay (1975)","Deewaar (1975)","Black (2005)","Paa (2009)","Anand (1971)"]},"last_name":{"variationsOrder":[],"translatable":false,":type":"string","dataType":"string","title":"Last Name","multiValue":false,"value":"Bacchan"},"permanent_address":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Permanent Address","multiValue":false,"value":"Jalsa, Juhu, Mumbai"},"five_qualities":{"variationsOrder":[],"translatable":false,":type":"string","dataType":"string","title":"Qualities","multiValue":true,"value":["Legendary","Influential","Versatile","Respected","Charismatic"]},"profilePicture":{"translatable":false,":type":"string","dataType":"string","title":"Profile Picture","multiValue":false,"value":"/content/dam/images/profile-pictures/people/global/a/Anil-Kapoor-2-9.jpg"},"marital_status":{"translatable":false,":type":"boolean","dataType":"boolean","title":"Married","multiValue":false,"value":true},"best_dialog":{"translatable":false,":type":"text/plain","dataType":"string","title":"Best Dialog","multiValue":false,"value":"Rishte mein toh hum tumhare baap lagte hain, naam hai Shahenshah "},"awards":{"translatable":false,":type":"text/plain","dataType":"string","title":"Awards and Recognition","multiValue":true,"value":["Dadasaheb Phalke Award (2019)","Filmfare Lifetime Achievement Award (1991)"]},"about_text":{"translatable":false,":type":"text/html","dataType":"string","title":"About Person","multiValue":false,"value":"Amitabh Bachchan is one of the most legendary and influential actors in the history of Indian cinema. He is known for his deep voice, powerful screen presence, and versatile roles. He has appeared in over 200 films, spanning across five decades. He started his career in 1969 with Saat Hindustani, but his first major success was Zanjeer in 1973, which established him as the 'angry young man' of Bollywood. He dominated the 1970s and 1980s with films like Deewaar, Sholay, Don, Trishul, Muqaddar Ka Sikandar, and Coolie. He also experimented with different genres like comedy, romance, drama, and thriller. He suffered a near-fatal injury while shooting for Coolie in 1982, which led to a nationwide prayer for his recovery. He briefly retired from films in 1988 and entered politics, but returned to acting in 1997 with Mrityudaata. He reinvented his career in the 2000s with films like Mohabbatein, Kabhi Khushi Kabhie Gham, Baghban, Black, Sarkar, and Paa. He also ventured into television, hosting the popular game show Kaun Banega Crorepati since 2000. He has won numerous awards, including four National Film Awards, 15 Filmfare Awards, and a Padma Shri, a Padma Bhushan, and a Padma Vibhushan. He is also one of the most respected and admired actors in the world, receiving honorary doctorates from several universities and awards from foreign governments. He is married to actress Jaya Bachchan and has two children, Abhishek and Shweta."},"first_name":{"translatable":false,":type":"string","dataType":"string","title":"First Name","multiValue":false,"value":"Amitabh"},"age":{"translatable":false,":type":"double","dataType":"double","title":"Age","multiValue":false,"value":81}},"name":"amitabh-bacchan","modified":1708844703206,"modifiedBy":"admin","srn:paging":{"total":0,"offset":0,"limit":20}}}'''


// Iterate through each celebrity object in the array
jsonArray.each { celebrity ->
     
def finalJson='''{"properties":{"cq:model":"/conf/tushar/settings/dam/cfm/models/people-profile","created":1708799700877,"description":"this is description","title":"'''+celebrity.first_name+"-"+celebrity.last_name+'''","contentFragment":true,"createdBy":"admin","elementsOrder":["first_name","last_name","profilePicture","date_of_birth","age","best_dialog","about_text","permanent_address","five_qualities","top_5_movies","awards","top_5_songs","one_controversy","marital_status"],"elements":{"top_5_songs":{"translatable":false,":type":"text/plain","dataType":"string","title":"Top 5 Songs","multiValue":true,"value":'''+JsonOutput.toJson(celebrity.top_5_songs)+'''},"one_controversy":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Contravorsy","multiValue":false,"value":"'''+celebrity.one_controversy+'''"},"date_of_birth":{"variationsOrder":[],"translatable":false,":type":"calendar","dataType":"calendar","title":"Date of Birth","multiValue":false,"value":1707892200000},"top_5_movies":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Top 5 Movies","multiValue":true,"value":'''+JsonOutput.toJson(celebrity.top_5_movies)+'''},"last_name":{"variationsOrder":[],"translatable":false,":type":"string","dataType":"string","title":"Last Name","multiValue":false,"value":"'''+celebrity.last_name+'''"},"permanent_address":{"variationsOrder":[],"translatable":false,":type":"text/plain","dataType":"string","title":"Permanent Address","multiValue":false,"value":"'''+celebrity.permanent_address+'''"},"five_qualities":{"variationsOrder":[],"translatable":false,":type":"string","dataType":"string","title":"Qualities","multiValue":true,"value":'''+JsonOutput.toJson(celebrity.five_qualities)+'''},"profilePicture":{"translatable":false,":type":"string","dataType":"string","title":"Profile Picture","multiValue":false,"value":"/content/dam/images/profile-pictures/people/global/a/Anil-Kapoor-2-9.jpg"},"marital_status":{"translatable":false,":type":"boolean","dataType":"boolean","title":"Married","multiValue":false,"value":true},"best_dialog":{"translatable":false,":type":"text/plain","dataType":"string","title":"Best Dialog","multiValue":false,"value":"'''+celebrity.best_dialog+'''"},"awards":{"translatable":false,":type":"text/plain","dataType":"string","title":"Awards and Recognition","multiValue":true,"value":'''+JsonOutput.toJson(celebrity.top_2_awards)+'''},"about_text":{"translatable":false,":type":"text/html","dataType":"string","title":"About Person","multiValue":false,"value":"'''+celebrity.about_text+'''"},"first_name":{"translatable":false,":type":"string","dataType":"string","title":"First Name","multiValue":false,"value":"'''+celebrity.first_name+'''"},"age":{"translatable":false,":type":"double","dataType":"double","title":"Age","multiValue":false,"value":'''+celebrity.age+'''}},"name":"'''+celebrity.first_name.toLowerCase()+"-"+celebrity.last_name.toLowerCase()+'''","modified":1708844703206,"modifiedBy":"admin","srn:paging":{"total":0,"offset":0,"limit":20}}}'''
//println "A"+original_postman_json_string
//println "B"+finalJson

      
  try {
  // Create HTTP client
  def httpClient = HttpClients.custom().build()

  // Create POST request
  def httpPost = new HttpPost("${aemUrl}/api/assets/${fragmentPath}?rel=cq:inplaceEdit" )

  // Set basic authentication
  httpPost.addHeader("Authorization", "Basic " + Base64.encoder.encodeToString("${user}:${password}".getBytes()).trim())
   // httpPost.addHeader("Authorization", "Bearer {{your_access_token}}")
  httpPost.addHeader("Content-Type", "application/json")


  // Set request body with JSON data
  httpPost.setEntity(new StringEntity(finalJson, "UTF-8"))

  // Execute request and get response
  def response = httpClient.execute(httpPost)

  // Check for successful response
  if (response.statusLine.statusCode == 201) {
    println "Fragment created successfully at: ${fragmentPath}  ${fragmentPath} ${celebrity.first_name} ${celebrity.last_name}"
  } else {
    println "Error creating fragment: ${response.statusLine.reasonPhrase}"
  }

  // Close HTTP client
  httpClient.close()
} catch (Exception e) {
  println "Error creating fragment: ${e.message}"
}

}